"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7833],{7489:function(e,t,n){n.d(t,{I:function(){return c},N:function(){return i.N}});var r=n(97458),a=n(16830),o=n.n(a),i=n(29646);let l=o()(()=>n.e(9059).then(n.bind(n,69059)).then(e=>e.ConfirmSafariClipboardComponent),{loadableGenerated:{webpack:()=>[69059]},ssr:!1}),c=()=>{let{onSucess:e}=(0,i.N)();return e&&(0,r.jsx)(l,{})}},29646:function(e,t,n){n.d(t,{N:function(){return o}});var r=n(51835);let a=(0,r.cn)({key:"confirmSafariClipboardState",default:null}),o=()=>{let[e,t]=(0,r.FV)(a);return{onClose:()=>t(null),setConfirm:e=>t({onSuccess:e}),onSucess:null==e?void 0:e.onSuccess}}},87372:function(e,t,n){n.d(t,{F:function(){return z}});var r=n(97458),a=n(60889),o=n(66827),i=n(83648),l=n(52983),c=n(23274),u=n(14444),s=n(90435),d=n(88711),f=n(55046),m=n(83598);let p=(0,l.forwardRef)((e,t)=>(0,r.jsx)(d.x,{as:"button",width:"".concat(45),height:"".concat(45),position:"absolute",right:{default:"0",lg:"15"},top:{default:"-45",lg:"20"},color:"white",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"sm",backgroundColor:{default:"transparent",hover:"white/20"},...e,ref:t,children:(0,r.jsx)(f.J,{as:m.Z})}));var g=n(51835),h=n(1850),b=n(79507),w=n(68320);let v=()=>{let e=(0,i.useRouter)(),t=(0,c.Zk)();(0,l.useEffect)(()=>{let n=(e,n)=>{let{shallow:r}=n;r||t()};return e.events.on("routeChangeComplete",n),()=>{e.events.off("routeChangeComplete",n)}},[t,e])},k=()=>{let e=(0,c.Mr)(),t=(0,i.useRouter)(),n=(0,c.aJ)(),r=(0,b.Q)(),a=(0,g.sJ)(w.z1);return v(),t.beforePopState(t=>{let{as:o,options:i}=t,{shallow:l}=i;if(a)return r(),!0;if(!l)return!0;if(n&&o.endsWith(n.as))return e(null),!0;let c=_.safeParse(o);return e(c.success?c.data:null),!1}),null},_=h.z.string().min(4).max(255).transform((e,t)=>{try{var n,r;let t=null===(r=e.split("#").shift())||void 0===r?void 0:null===(n=r.split("_").pop())||void 0===n?void 0:n.replace(".htm","");return h.z.coerce.number().parse(t).valueOf()}catch(e){return t.addIssue({code:h.z.ZodIssueCode.custom,message:"ID could not be extracted from code"}),h.z.NEVER}});var y=n(51837),x=n(9086);n(56367);let C={Prev:x.Z,Next:y.Z},j=(0,l.forwardRef)((e,t)=>{let{direction:n,...a}=e;return(0,r.jsx)(d.x,{as:"button",width:"45",height:"45",position:"absolute",top:"half",color:"white",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"sm",backgroundColor:{default:"transparent",hover:"white/20"},...a,left:"Prev"===n?"15":void 0,right:"Next"===n?"15":void 0,className:"_1rmnktx0",ref:t,"data-cy":"".concat("Prev"===n?"prev":"next","-video"),children:(0,r.jsx)(f.J,{as:C[n]})})}),R=e=>{let{urlDetailGenerator:t}=e,[n,a]=(0,c.iA)(),{previousResource:o,nextResource:i}=(0,c.CY)(t);return(N(o,i),o||i)?(0,r.jsxs)(d.x,{as:"nav",display:{default:"none",lg:"block"},children:[(0,r.jsx)(j,{direction:"Prev",onClick:o,disabled:!o||n}),(0,r.jsx)(j,{direction:"Next",onClick:i,disabled:!i||n})]}):null},N=(e,t)=>{let[n]=(0,c.iA)();(0,l.useEffect)(()=>{let r=r=>{!n&&("ArrowLeft"===r.key?e&&e():"ArrowRight"===r.key&&t&&t())};return document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}},[e,t,n])};n(96341),n(94398),n(12110);var S=(0,n(22319).c)({defaultClassName:"_btqskg7 _btqskg4 _1286nb12iw _1286nb128w _1286nb14jq _1286nb14ki _1286nb14l2 _1286nb14lu _1286nb14me _1286nb14n6 _1286nb14nq _1286nb14oi _1286nb18c2 _1286nb12ew _1286nb12e0 _1286nb122k _1286nb124a _1286nb11be _1286nb119c _1286nb13l2",variantClassNames:{isRemoveBackgroundOnboardingEnabled:{true:"_1286nb1h _1286nb1k _1286nb186",false:"_1286nb1g _1286nb1j"}},defaultVariants:{isRemoveBackgroundOnboardingEnabled:!1},compoundVariants:[]}),O="_1286nb1202 _1286nb11le _1286nb12hk _1286nb12kc _1286nb127k _1286nb12ac _1286nb11ak _1286nb13ew _1286nb146q _1286nb1477 _1286nb19q _1286nb13l2",I="_btqskg1 _1286nb1a8 _1286nb1ik _1286nb1qw _1286nb1z8 _1286nb12tk _1286nb12u8 _1286nb15 _1286nb19w _1286nb117w _1286nb17e2 _1286nb18k _1286nb19c";let E=e=>{let{children:t}=e,{disableOnboarding:n}=(0,u.$q)();return(0,r.jsx)(o.aV,{className:I,onClick:n,children:(0,r.jsx)(o.VY,{className:O,onInteractOutside:e=>e.preventDefault(),children:(0,r.jsx)("div",{className:S({isRemoveBackgroundOnboardingEnabled:!0}),children:t})})})},z=e=>{let{urlDetailGenerator:t,children:n}=e,i=P(),c=A(),s=T(),{isRemoveBackgroundOnboardingEnabled:d}=(0,u.$q)();(0,a.$6)(i);let f=(0,l.useCallback)(e=>{let t=e.target;t&&"dialog"===t.getAttribute("role")&&c()},[c]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(k,{}),(0,r.jsx)(o.fC,{open:i,onOpenChange:c,modal:!0,children:d?(0,r.jsx)(E,{children:n}):(0,r.jsx)(o.aV,{className:I,onClick:f,children:(0,r.jsxs)(o.VY,{className:O,children:[(0,r.jsx)(o.x8,{asChild:!0,children:(0,r.jsx)(p,{})}),(0,r.jsx)(R,{urlDetailGenerator:t}),(0,r.jsx)("div",{className:S(),ref:s,children:n})]})})})]})},A=()=>{let e=(0,c.Zk)(),{push:t}=(0,i.useRouter)(),n=(0,c.aJ)();return(0,l.useCallback)(()=>{if(null===n){e();return}t({pathname:n.pathname,query:n.query},n.as,{shallow:!0,scroll:!1}).then(()=>{e(),(0,s.lS)(()=>(0,s.c1)("ssmNavigate"),500)})},[e,n,t])},P=()=>null!==(0,c.bA)(),T=()=>{let e=(0,l.useRef)(null),t=(0,c.bA)();return(0,l.useEffect)(()=>{t&&e.current&&(e.current.scrollTop=0)},[t]),e}},8692:function(e,t,n){n.d(t,{B:function(){return m}});var r=n(97458),a=n(32207),o=n(42458),i=n(55046),l=n(67091),c=n(2528),u=n(32748),s=n(21639),d=n(23274),f=n(1379);let m=e=>{let{id:t,name:n,type:m,buttonClassName:p,labelClassName:g,preview:{width:h,height:b,url:w},showTooltip:v=!1,tooltipSide:k,inThumbnail:_=!1}=e,{t:y}=(0,u.$G)("common"),x=(0,f.z)(w,h,b),C=(0,d.Zk)(),j=(0,o.n)(),R=(0,s.fD)({event_name:_?"similar_images_thumbnail":"similar_images",file_id:t.toString(),file_name:n,content_group2:m,search_logic_applied:"similar_images"}),N=(0,r.jsxs)("button",{className:p,onClick:async e=>{e.preventDefault(),e.stopPropagation(),R(),C(),await x()},children:[(0,r.jsx)(l.T,{children:y("viewSimilar")}),(0,r.jsx)(i.J,{as:c.Z,size:"base"}),(0,r.jsx)("span",{className:g,children:y("viewSimilar")})]});return v?(0,r.jsx)(a.u,{align:"end",trigger:N,container:j.current,triggerAsChild:!0,side:k,children:y("viewSimilar")}):N}},59477:function(e,t,n){n.d(t,{j:function(){return s}});var r=n(97458),a=n(63472),o=n(87062),i=n(71409),l=n(14136),c=n(52983),u=n(50317);let s=e=>{let{children:t,id:n,location:a,category:i,action:s,origin:f="freepik_web",size:m="lg",block:p,className:g,handleButtonClick:h=()=>void 0,destination:b="pricing"}=e,{apply:w,showExpressCheckout:v}=(0,u.xl)(),k=d(b,n,f),_=(0,c.useMemo)(()=>({category:i,location:a,action:s,resource_id:n}),[s,i,n,a]),[y,x]=(0,o.n9)(_);return((0,c.useEffect)(()=>{y()},[y]),w)?(0,r.jsx)(l.gg,{className:g,color:"yellow",size:m,block:p,onClick:()=>{h(),x(),v()},children:t}):(0,r.jsx)(l.gg,{className:g,color:"yellow",size:m,block:p,onClick:()=>{h(),x(),window.location.href=k()},children:t})},d=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"freepik_web",r=(0,i.L3)();return()=>{if("upgrade"===e)return"/profile/my_subscriptions?upgrade=plan";let o="?origin=".concat(n),i=r(a.WR.href);return t?"".concat(i,"/").concat(t).concat(o):"".concat(i).concat(o)}}},62687:function(e,t,n){n.r(t),n.d(t,{Seo:function(){return f}});var r=n(97458),a=n(48086),o=n(71409),i=n(88887),l=n.n(i),c=n(52983),u=n(45156),s=n(15303);let d=e=>{let{title:t,description:n,url:r,image:a,hashtags:o=[],type:i}=e;return(0,c.useMemo)(()=>{let e=a||{url:"".concat(s.p,"/meta-tags-social/og-fb-logo-en.png?w=1200"),width:1200,height:676},l="".concat(n).concat(o.length>0?" ".concat(o.map(e=>"#".concat(e)).join(" ")):"");return[{property:"og:title",content:t},{property:"og:description",content:l},{property:"og:type",content:i},{property:"og:url",content:r},{property:"og:image",content:e.url},{property:"og:image:width",content:"".concat(e.width)},{property:"og:image:height",content:"".concat(e.height)},{property:"og:image:alt",content:t},{property:"og:site_name",content:"Freepik"},{property:"fb:admins",content:"1031507953"},{property:"twitter:card",content:"summary_large_image"},{property:"twitter:site",content:"@freepik"},{property:"twitter:creator",content:"@freepik"},{property:"twitter:title",content:t},{property:"twitter:image:src",content:e.url},{property:"twitter:url",content:r},{property:"twitter:description",content:l}]},[a,n,o,t,i,r])},f=e=>{let{title:t,description:n,cdns:i,image:s,alternates:f,defaultAlternate:m,noIndex:p=!1,excludeCanonical:g=!1,replaceCanonical:h=[],hashtags:b,forceUrl:w,type:v="article"}=e,k=(0,o.ZK)(),_=(0,a.to)({withParams:!1,replacePaths:!0}),y=(0,a.to)({withQuery:!1,withParams:!1,replacePaths:!0}),x=d({title:t,description:n,url:w||_,image:s,hashtags:b,type:v}),C=(0,c.useMemo)(()=>h.reduce((e,t)=>{let{matcher:n,replace:r}=t;return e.replace(n,r)},y),[y,h]);return(0,r.jsxs)(l(),{children:[(0,r.jsx)("title",{children:t}),n&&(0,r.jsx)("meta",{name:"description",content:n}),u.v.map(e=>{let{rel:t,type:n,href:a,sizes:o}=e;return(0,r.jsx)("link",{rel:t,type:n,href:a,sizes:o},"".concat(t,"-").concat(n&&o?"".concat(n,"-").concat(o):n||o))}),x.map(e=>{let{property:t,content:n}=e;return(0,r.jsx)("meta",{property:t,content:n},t)}),u.m.map(e=>{let{rel:t,href:n,crossOrigin:a}=e;return(0,r.jsx)("link",{rel:t,href:n,crossOrigin:a},"".concat(t,"-").concat(n,"-").concat(a))}),null==i?void 0:i.map(e=>(0,r.jsx)("link",{rel:"dns-prefetch",href:e},e)),(0,r.jsx)("meta",{name:"p:domain_verify",content:"fdda3a988da750af54ad90466dd90119"}),(0,r.jsx)("meta",{name:"facebook-domain-verification",content:"3oh58risl8zubokve93o200pvyihj0"}),(0,r.jsx)("meta",{name:"robots",content:"max-image-preview:large"}),(0,r.jsx)("meta",{name:"lang",content:k}),p&&(0,r.jsx)("meta",{name:"robots",content:"noindex, nofollow, noarchive"}),!g&&(0,r.jsx)("link",{rel:"canonical",href:null!=w?w:C}),f&&f.map(e=>{let{href:t,lang:n}=e;return(0,r.jsx)("link",{rel:"alternate",hrefLang:n,href:t},n)}),m&&(0,r.jsx)("link",{rel:"alternate",hrefLang:"x-default",href:m}),"en"===k&&(0,r.jsx)("link",{rel:"manifest",href:"/manifest.json"})]})}},79507:function(e,t,n){n.d(t,{Q:function(){return l}});var r=n(83648),a=n(52983),o=n(51835),i=n(68320);let l=()=>{let e=(0,o.Zl)(i.z1),t=(0,o.Zl)(i.Mf),n=(0,o.Zl)(i.q9),l=(0,r.useRouter)();return(0,a.useCallback)(()=>{l.back(),e(!1),t(!1),n(null)},[l,n,t,e])}},68320:function(e,t,n){n.d(t,{Mf:function(){return i},q9:function(){return o},z1:function(){return a}});var r=n(51835);let a=(0,r.cn)({key:"editToolsModalOpen",default:!1}),o=(0,r.cn)({key:"editToolsIframeUrl",default:null}),i=(0,r.cn)({key:"editToolsIframeLoaded",default:!1});(0,r.cn)({key:"editToolsFamily",default:null})},3036:function(e,t,n){n.d(t,{f:function(){return i},r:function(){return l}});var r=n(97458),a=n(52983);let o=(0,a.createContext)(null),i=e=>{let{children:t,shouldTrackingLog:n}=e,i=(0,a.useMemo)(()=>({shouldTrackingLog:n}),[n]);return(0,r.jsx)(o.Provider,{value:i,children:t})},l=()=>(0,a.useContext)(o)||{shouldTrackingLog:!0}},3704:function(e,t,n){n.d(t,{H:function(){return a}});let r=e=>{let{resource:t,file:n,option:r,size:a,action:o}=e,i=new URLSearchParams;return i.set("resource","".concat(t)),n&&r?(i.set("file",n),i.set("option","".concat(r))):a&&i.set("size","".concat(a)),o&&i.set("action",o),i.toString()},a=async e=>{let t=r(e),n=await fetch("/api/regular/download?".concat(t));return n.ok?{success:!0,data:await n.json()}:429===n.status?{success:!1,data:"DOWNLOAD_LIMIT_REACHED",metadata:"/download-limit"}:401===n.status||403===n.status||405===n.status?{success:!1,data:"AUTHENTICATION_ERROR"}:404===n.status?{success:!1,data:"NOT_FOUND"}:{success:!1,data:"UNKNOWN_ERROR"}}},9518:function(e,t,n){n.d(t,{iJ:function(){return j},Zd:function(){return N},tS:function(){return T}});var r=n(55016),a=n(52983),o=n(21639),i=n(50317),l=n(4439),c=n(95102);let u=(e,t)=>t||("photo"===e?"jpg":"zip");var s=n(52466),d=n(3036),f=n(3704),m=n(32565),p=n(36823),g=n(83272),h=n(72118),b=n(1850),w=n(87065);let v=b.z.enum(["download","copy","edit","prompt"]);b.z.object({resource:b.z.coerce.number(),file:w.ru.optional(),option:b.z.coerce.number().optional(),size:b.z.coerce.number().optional(),action:v.optional()}),b.z.object({data:b.z.object({filename:b.z.string(),url:b.z.string(),prompt:b.z.string().optional(),signed_url:b.z.string().optional()})}).transform(e=>{let{data:t}=e;return t}).transform(e=>{let{signed_url:t,...n}=e;return{...n,signedUrl:t}});let k=b.z.array(b.z.string()),_=new Date(new Date().getTime()+48e4),y=h.Z.withConverter({write:e=>e}),x=e=>{try{let t=y.get(e);if(!t)return[];return k.parse(JSON.parse(t))}catch(e){return[]}},C=()=>{let e=(0,g.I)(),t=(0,p.b)();return(0,a.useCallback)(n=>{if(!e)return;let r="".concat("ck_items_").concat(e),a=x(r),o="".concat(n);if(!a.includes(o)){let e=JSON.stringify([...a,o]);y.set(r,e,{path:"/",domain:t,expires:_})}},[e,t])},j=e=>{let{resource:t,file:n,action:p="download",location:g="resource_detail",option:h,size:b,isRemoveBackgroundActive:w=!1,showAttributionModal:v=!0}=e,{id:k,name:_,author:y,premium:x,regularType:j,isAIGenerated:R}=t,[N,S]=(0,a.useState)(!1),{isUserWinback:O,showWinbackModal:I}=(0,i.lK)(),{showAttribution:E}=(0,s.tc)(),z=C(),A=(0,m.b)(),P=(0,l.mS)(),{shouldTrackingLog:T}=(0,d.r)(),{showDeviceBlockedModal:L,isDeviceBlocked:M}=(0,r.qx)(),q=(0,o.TH)({file_extension:u(j,n),file_name:_,file_id:k,license:x?"premium":"free",resolution:b?c.w8[b]:"original",style:"na",author_name:y.name,category:R?"ai_image":j,action:"prompt"===p?"view_prompt":p,location:g});return{handleDownload:(0,a.useCallback)(async()=>{if(M){L();return}if(O){I();return}S(!0);let e=await (0,f.H)({resource:k,size:b?2e3:void 0,action:p,file:n,option:h});if(e.success)return v&&E&&E(),S(!1),z(k),T&&P({resourceId:k,isResourcePremium:x,resourceType:j,downloadType:w&&"edit"===p?c.QN:p}),q(),e.data;"prompt"!==p&&A(e),S(!1)},[M,O,k,b,p,n,h,L,I,v,E,z,T,q,w,P,x,j,A]),isDownloading:N}};var R=n(42852);let N=e=>{let{isDownloading:t,handleDownload:n}=j(e),r=(0,R.J)();return{isDownloading:t,onClick:(0,a.useCallback)(async e=>{e.preventDefault();let t=e.currentTarget;if(!t)return;let a=await n();a&&(a.filename&&(t.download=a.filename),t.href=a.url,t.click(),r())},[n,r])}};var S=n(59190),O=n(59813),I=n(14409),E=n(32748),z=n(7489),A=n(51362);let P=(e,t)=>{let n=document.createElement("a");t&&(n.download=t),n.href=e,n.click(),setTimeout(function(){n.remove()},200)},T=()=>{let{t:e}=(0,E.$G)(["detail","common"]),[t,n]=(0,a.useState)(!1),{setToast:r}=(0,A.p)(),{setConfirm:o}=(0,z.N)(),i=(0,a.useCallback)(async t=>{try{(0,I.C)()||r({type:"danger",message:e("clipboardNotSupported")}),n(!0),await navigator.clipboard.write([t]),r({type:"success",title:e("detail:copyImageClipboard"),message:e("common:copiedsuccessfully"),testId:"notification-copied-successfully"})}catch(e){r()}finally{n(!1)}},[r,e]),l=(0,a.useCallback)(async(e,t,n,r,a,l)=>{let c="clipboard"===r,u=c?e.naturalWidth:t,s=c?e.naturalHeight:n,d=document.createElement("canvas");d.width=u,d.height=s;let f=d.getContext("2d");f&&(f.drawImage(e,0,0,u,s),d.toBlob(async e=>{let t;if(e){if(c){if((0,O.gn)()||S.G6){t=new ClipboardItem({[e.type]:Promise.resolve(e)}),o(()=>{i(t)});return}i(t=new ClipboardItem({[e.type]:e}))}else{let t=window.URL.createObjectURL(e);P(t,l),window.URL.revokeObjectURL(t)}}},"image/".concat(a),1))},[i,o]);return{downloadImageSize:(0,a.useCallback)(async e=>{let{url:t,filename:n,width:a,height:o}=e;try{let e=new Image;e.src=t,e.crossOrigin="Anonymous",e.onload=()=>{l(e,a,o,"download","jpeg",n)},e.onerror=()=>r()}catch(e){r()}},[l,r]),downloadCopyImageToClipboard:(0,a.useCallback)(async e=>{let{url:t,width:a,height:o}=e;try{n(!0);let e=new Image;e.src=t,e.crossOrigin="Anonymous",e.onload=()=>{l(e,a,o,"clipboard","png")},e.onerror=()=>{n(!1),r()}}catch(e){n(!1),r()}},[r,l]),isCopying:t}}},32565:function(e,t,n){n.d(t,{b:function(){return i}});var r=n(32748),a=n(52983),o=n(51362);let i=()=>{let{t:e}=(0,r.$G)("error"),{setToast:t}=(0,o.p)();return(0,a.useCallback)(n=>{if("DOWNLOAD_LIMIT_REACHED"===n.data&&"metadata"in n){window.location.href=n.metadata;return}if("AUTHENTICATION_ERROR"===n.data){window.location.href="/oauth-logout";return}"NOT_FOUND"===n.data&&t({type:"danger",message:e("notFound")}),"UNKNOWN_ERROR"===n.data&&t({type:"danger",message:e("unknown")})},[t,e])}},69243:function(e,t,n){n.d(t,{P:function(){return r}});let r=(0,n(52983).createContext)(null)},56166:function(e,t,n){n.d(t,{c:function(){return c}});var r=n(97458),a=n(83648),o=n(52983),i=n(23274),l=n(69243);let c=e=>{let{children:t}=e,{asPath:n}=(0,a.useRouter)(),[c,u]=(0,o.useState)("original"),[s,d]=(0,o.useState)(!0),[f,m]=(0,o.useState)(!1),[p,g]=(0,o.useState)(!1),[h,b]=(0,i.iA)(),[w,v]=(0,o.useState)(),[k,_]=(0,o.useState)(""),y=(0,o.useMemo)(()=>({imageUrl:k,setImageUrl:_,imagePreviewMode:c,setImagePreviewMode:u,isRemoveBackgroundLoading:f,setIsRemoveBackgroundLoading:m,isRemoveBackgroundActive:"transparent"===c,removeBackgroundAnimationEnd:s,setRemoveBackgroundAnimationEnd:d,forceRemoveBackgroundButtonTooltip:p,setForceRemoveBackgroundButtonTooltip:g,imageWithoutBackgroundDimensions:w,setImageWithoutBackgroundDimensions:v}),[k,p,c,w,f,s]);return(0,o.useEffect)(()=>{u("original"),_(""),d(!0)},[n]),(0,o.useEffect)(()=>{b(f)},[f,b]),(0,r.jsx)(l.P.Provider,{value:y,children:t})}},36232:function(e,t,n){n.d(t,{cB:function(){return r.c},ql:function(){return a.q}}),n(69243);var r=n(56166),a=n(79566)},79566:function(e,t,n){n.d(t,{q:function(){return o}});var r=n(52983),a=n(69243);let o=()=>{let e=(0,r.useContext)(a.P);if(null===e)throw Error("useRemoveBackgroundState must be used within a DetailRemoveBackgroundProvider");return e}},29067:function(e,t,n){n.d(t,{MF:function(){return l},QC:function(){return c},_R:function(){return r},d2:function(){return i},jR:function(){return o},wj:function(){return a}});let r=2e3,a=15,o="REMOVE_BACKGROUND_ONBOARDING",i=new Date(2024,4,13,12,0,0),l=["photo","vector"],c="PNG"},75154:function(e,t,n){n.d(t,{X:function(){return r}});let r=async(e,t)=>{if(!e)return;let n=await fetch("/api/ai/remove-background-check?uuid=".concat(e).concat(t?"&isLastCall=1":""));if(200!==n.status)return null;let{image_url:r}=await n.json();return r}},14444:function(e,t,n){n.d(t,{Ux:function(){return o},A8:function(){return P},CA:function(){return T},$q:function(){return L},A0:function(){return D}});var r=n(58025),a=n(29067);let o=()=>{let{type:e}=(0,r.ph)();return a.MF.includes(e)};var i=n(62168),l=n(52983),c=n(51835),u=n(79566),s=n(83717),d=n(59398),f=n(45123),m=n(72833),p=n(42852),g=n(83053),h=n(36232);let b=()=>{let{setForceRemoveBackgroundButtonTooltip:e,setIsRemoveBackgroundLoading:t}=(0,h.ql)(),n=(0,p.J)(),r=(0,m.L)(),a=(0,f._)(),o=(0,d.E)();return(0,l.useCallback)(async i=>{let l=(0,g.L)(),c=await fetch("/api/ai/remove-background",{method:"POST",body:JSON.stringify({resourceId:i,uuid:l,walletId:r,creditsTransaction:!!(a||r)})});if(429===c.status)return e(!0),t(!1),await n(),null;if(!c.ok)throw Error("Failed to remove background");if(200===c.status){let{transactionId:e,walletId:t}=await c.json();return r||o(t),{uuid:l,transactionId:e}}return{uuid:l}},[o,a,e,t,r,n])};var w=n(32748),v=n(51362);let k=()=>{let{setToast:e}=(0,v.p)(),{t}=(0,w.$G)("detail"),{setIsRemoveBackgroundLoading:n}=(0,h.ql)();return(0,l.useCallback)(()=>{e({type:"danger",title:t("removeBackground.errorTitle"),message:t("removeBackground.errorMessage"),duration:3e3}),n(!1)},[e,t,n])};var _=n(75154),y=n(52466),x=n(84891);let C=(e,t)=>{let n=new Image;n.onload=function(){let e=document.createElement("canvas"),r=e.getContext("2d");if(e.width=n.width,e.height=n.height,!r){t(!1);return}r.drawImage(n,0,0);let a=r.getImageData(0,0,e.width,e.height).data;for(let e=0;e<a.length;e+=4)if(0!==a[e+3]){t(!0);return}t(!1)},n.src=e};var j=n(88675),R=n(65508);let N=()=>(0,l.useCallback)(()=>{(0,R.r)("bb6a004a-8f03-4d2a-88fb-a63499d4591a").then(e=>{e.init(),e.logEvent("remove_bg")})},[]),S=()=>{let{id:e}=(0,y.ph)(),{setIsRemoveBackgroundLoading:t,setImagePreviewMode:n}=(0,u.q)(),r=(0,c.Zl)((0,s.e)(e));return(0,l.useCallback)(e=>{t(!1),n("transparent"),e&&r(e)},[n,t,r])},O=()=>{let e=k(),t=S(),{id:n,premium:r,regularType:a}=(0,y.ph)(),{setImageUrl:o}=(0,u.q)(),i=(0,x.mS)(),c=N();return(0,l.useCallback)(async l=>{try{o(l);let u=await (0,j.C)(l);C(u,o=>{if(!o){e();return}t(u),i({resourceId:n,isResourcePremium:r,resourceType:a,downloadType:"remove_background"}),c()})}catch(t){e()}},[o,t,i,n,r,a,c,e])},I=()=>{let e=(0,l.useRef)(0),t=(0,l.useRef)(null),n=O(),r=k(),o=(0,p.J)();return(0,l.useCallback)(i=>{t.current=setInterval(async()=>{if(e.current>=a.wj){t.current&&clearInterval(t.current),r();return}e.current+=1;let l=e.current===a.wj,c=await (0,_.X)(i,l);c&&(n(c),await o(),t.current&&clearInterval(t.current))},a._R)},[n,r,o])},E=()=>{let{id:e,premium:t,regularType:n}=(0,r.ph)(),{setIsRemoveBackgroundLoading:a}=(0,u.q)(),o=(0,c.sJ)((0,s.e)(e)),d=k(),f=I(),m=S(),p=(0,i.PN)(),g=b(),h=(0,l.useCallback)(()=>p({event:"ga4event",event_name:"background_remove",category:n,file_id:e,license:t?"premium":"free",location:"resource_detail"}),[e,t,n,p]);return(0,l.useCallback)(async()=>{if(a(!0),o){m();return}try{h();let t=await g(e);if(!t){a(!1);return}let{uuid:n}=t;f(n)}catch(e){d()}},[a,o,m,d,h,g,e,f])};var z=n(21639),A=n(9518);let P=()=>{let{id:e,name:t,author:n,premium:r,regularType:o,isAIGenerated:i,dimensions:{width:u=0,height:d=0}={}}=(0,y.ph)(),{downloadCopyImageToClipboard:f}=(0,A.tS)(),m=(0,c.sJ)((0,s.e)(e)),p=(0,z.TH)({file_extension:a.QC.toLowerCase(),file_name:t,file_id:e,license:r?"premium":"free",resolution:"original",style:"na",author_name:n.name,category:i?"ai_image":o,action:"copy",location:"resource_detail"});return(0,l.useCallback)(()=>{f({url:m,width:u,height:d}),p()},[f,d,m,p,u])},T=()=>{let e=E(),{hideAttribution:t}=(0,y.ph)(),{isRemoveBackgroundActive:n,setImagePreviewMode:r,setRemoveBackgroundAnimationEnd:a}=(0,u.q)();return(0,l.useCallback)(async()=>{a(!1),t(),n?r("original"):await e()},[t,n,e,r,a])},L=()=>{let[e,t]=(0,c.FV)(s.y),n=(0,l.useCallback)(()=>{!(Date.now()>a.d2.getTime())&&(localStorage.getItem(a.jR)||t(!0))},[t]),r=(0,l.useCallback)(()=>{localStorage.setItem(a.jR,"true"),t(!1)},[t]);return(0,l.useMemo)(()=>({isRemoveBackgroundOnboardingEnabled:e,enableOnboarding:n,disableOnboarding:r}),[r,n,e])};var M=n(21595),q=n(95815);let D=()=>{let{id:e}=(0,r.ph)(),t=(0,c.sJ)((0,s.e)(e)),n=(0,c.sJ)(q.PR),a=(0,f._)(),o=(0,c.sJ)(M.h2),{forceRemoveBackgroundButtonTooltip:i}=(0,h.ql)();return a?(o||i)&&!t:n&&!t}},88675:function(e,t,n){n.d(t,{C:function(){return r}});let r=e=>fetch(e).then(e=>e.blob()).then(e=>new Promise(t=>{let n=new FileReader;n.onload=function(){t(this.result)},n.readAsDataURL(e)}))},83717:function(e,t,n){n.d(t,{e:function(){return o},y:function(){return i}});var r=n(51835);let a=(0,r.cn)({key:"removeBackgroundStorageState",default:{}}),o=(0,r.CG)({key:"removeBackgroundStorage",get:e=>t=>{let{get:n}=t;return n(a)[e]},set:e=>(t,n)=>{let{set:o,get:i}=t;if(n instanceof r.nY)return;let l=i(a);o(a,{...l,[e]:n})}}),i=(0,r.cn)({key:"isRemoveBackgroundOnboardingEnabledState",default:!1})},44842:function(e,t,n){var r=n(97458);t.Z=e=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-49 141 512 512",width:16,height:16,"aria-hidden":!0,...e,children:(0,r.jsx)("path",{d:"m405.678 227.322-69-69A25 25 0 0 0 319 151H166c-35.841 0-65 29.159-65 65v35H66c-35.841 0-65 29.159-65 65v262c0 35.841 29.159 65 65 65h182c35.841 0 65-29.159 65-65v-35h35c35.841 0 65-29.159 65-65V245a25 25 0 0 0-7.322-17.678M263 578c0 8.271-6.729 15-15 15H66c-8.271 0-15-6.729-15-15V316c0-8.271 6.729-15 15-15h35v177c0 35.841 29.159 65 65 65h97zm85-85H166c-8.271 0-15-6.729-15-15V216c0-8.271 6.729-15 15-15h128v44c0 13.808 11.192 25 25 25h44v208c0 8.271-6.729 15-15 15"})})},2528:function(e,t,n){var r=n(97458);t.Z=e=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-49 141 512 512",width:16,height:16,"aria-hidden":!0,...e,children:[(0,r.jsx)("path",{d:"M207 452a25 25 0 0 1-12.261-3.213l-231-130a25 25 0 0 1-.071-43.533l231-131a25 25 0 0 1 24.664 0l231 131a25.002 25.002 0 0 1-.071 43.533l-231 130A25 25 0 0 1 207 452M26.826 296.917 207 398.313l180.174-101.396L207 194.74z"}),(0,r.jsx)("path",{d:"M207 553a25 25 0 0 1-12.261-3.213l-231-130c-12.033-6.771-16.298-22.016-9.526-34.048 6.772-12.035 22.016-16.298 34.048-9.526L207 499.314l218.739-123.101c12.031-6.771 27.275-2.506 34.048 9.526 6.771 12.032 2.507 27.276-9.526 34.048l-231 130A25 25 0 0 1 207 553"}),(0,r.jsx)("path",{d:"M207 653a25 25 0 0 1-12.261-3.213l-231-130c-12.033-6.771-16.298-22.016-9.526-34.048 6.772-12.035 22.016-16.298 34.048-9.526L207 599.314l218.739-123.101c12.031-6.772 27.275-2.507 34.048 9.526 6.771 12.032 2.507 27.276-9.526 34.048l-231 130A25 25 0 0 1 207 653"})]})},59813:function(e,t,n){n.d(t,{gn:function(){return i},eE:function(){return o},Xe:function(){return l}});let r=()=>{if("undefined"==typeof navigator)return"Unknown";let e=navigator.userAgent,t=navigator.platform,n={MacOS:["Macintosh","MacIntel","MacPPC","Mac68K"].includes(t),iOS:["iPhone","iPad","iPod"].includes(t),Windows:["Win32","Win64","Windows","WinCE"].includes(t),Android:/Android/.test(e),Linux:/Linux/.test(t),Unknown:!0};return Object.keys(n).find(e=>n[e])||"Unknown"},a=r(),o=()=>"MacOS"===a,i=()=>"iOS"===a,l=()=>i()||"Android"===r()},14409:function(e,t,n){n.d(t,{C:function(){return r}});let r=()=>!!window.navigator.clipboard&&!!window.navigator.clipboard.write}}]);